#!/bin/sh
# QMD CLI Dispatcher Script
# Routes commands to the appropriate application

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# Check the first argument to determine which app to run
case "$1" in
  mcp)
    shift  # Remove 'mcp' from arguments
    exec bun run "$SCRIPT_DIR/apps/mcp/src/mcp.ts" "$@"
    ;;
  tui)
    shift  # Remove 'tui' from arguments
    exec bun run "$SCRIPT_DIR/apps/tui/src/tui.ts" "$@"
    ;;
  web)
    shift  # Remove 'web' from arguments
    exec bun run "$SCRIPT_DIR/apps/web/src/web.ts" "$@"
    ;;
  *)
    # Default to CLI for all other commands
    exec bun run "$SCRIPT_DIR/apps/cli/src/cli.ts" "$@"
    ;;
esac
